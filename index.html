<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FairPrice - Stop Getting Overcharged</title>
  <meta name="description" content="Track subscription price increases and optimize your spending">
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;
    
    // Lucide icons as simple SVG components
    const AlertCircle = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="12" y1="8" x2="12" y2="12"/>
        <line x1="12" y1="16" x2="12.01" y2="16"/>
      </svg>
    );
    
    const TrendingUp = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
        <polyline points="17 6 23 6 23 12"/>
      </svg>
    );
    
    const DollarSign = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <line x1="12" y1="1" x2="12" y2="23"/>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
      </svg>
    );
    
    const Zap = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
      </svg>
    );
    
    const CheckCircle = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
        <polyline points="22 4 12 14.01 9 11.01"/>
      </svg>
    );
    
    const Clock = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </svg>
    );

    const ChevronDown = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polyline points="6 9 12 15 18 9"/>
      </svg>
    );

    const Filter = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
      </svg>
    );

    const ArrowUpDown = ({ className }) => (
      <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="m21 16-4 4-4-4"/>
        <path d="M17 20V4"/>
        <path d="m3 8 4-4 4 4"/>
        <path d="M7 4v16"/>
      </svg>
    );

    const FairPriceApp = () => {
      const [activeTab, setActiveTab] = useState('dashboard');
      const [selectedSub, setSelectedSub] = useState(null);
      const [sortBy, setSortBy] = useState('savings');
      const [filterStatus, setFilterStatus] = useState('all');
      const [showSavingsCalc, setShowSavingsCalc] = useState(false);
      const [calcMonths, setCalcMonths] = useState(12);

      const subscriptions = [
        {
          id: 1,
          name: 'Netflix',
          currentPrice: 22.99,
          originalPrice: 15.99,
          startDate: 'Jan 2023',
          lastIncrease: 'Sep 2024',
          increases: 3,
          category: 'Streaming',
          status: 'overpriced',
          usageScore: 85,
          recommendedTier: 'Current plan optimal',
          priceHistory: [
            { date: 'Jan 2023', price: 15.99 },
            { date: 'Jul 2023', price: 17.99 },
            { date: 'Mar 2024', price: 19.99 },
            { date: 'Sep 2024', price: 22.99 }
          ],
          monthlySavings: 0,
          alert: 'Price increased by $3 last month',
          increasePercent: 44
        },
        {
          id: 2,
          name: 'Spotify Family',
          currentPrice: 16.99,
          originalPrice: 14.99,
          startDate: 'Mar 2022',
          lastIncrease: 'Aug 2024',
          increases: 2,
          category: 'Music',
          status: 'wasteful',
          usageScore: 40,
          recommendedTier: 'Downgrade to Individual ($10.99)',
          priceHistory: [
            { date: 'Mar 2022', price: 14.99 },
            { date: 'Jul 2023', price: 15.99 },
            { date: 'Aug 2024', price: 16.99 }
          ],
          monthlySavings: 6.00,
          alert: 'Only 2 of 6 accounts active - save $6/mo',
          increasePercent: 13
        },
        {
          id: 3,
          name: 'Adobe Creative Cloud',
          currentPrice: 54.99,
          originalPrice: 52.99,
          startDate: 'May 2023',
          lastIncrease: 'Jan 2025',
          increases: 1,
          category: 'Software',
          status: 'fair',
          usageScore: 95,
          recommendedTier: 'Current plan optimal',
          priceHistory: [
            { date: 'May 2023', price: 52.99 },
            { date: 'Jan 2025', price: 54.99 }
          ],
          monthlySavings: 0,
          alert: null,
          increasePercent: 4
        },
        {
          id: 4,
          name: 'Planet Fitness',
          currentPrice: 24.99,
          originalPrice: 10.99,
          startDate: 'Jan 2021',
          lastIncrease: 'Jun 2024',
          increases: 4,
          category: 'Fitness',
          status: 'overpriced',
          usageScore: 30,
          recommendedTier: 'Basic plan ($10.99)',
          priceHistory: [
            { date: 'Jan 2021', price: 10.99 },
            { date: 'Jan 2022', price: 14.99 },
            { date: 'Jul 2022', price: 17.99 },
            { date: 'Jan 2023', price: 22.99 },
            { date: 'Jun 2024', price: 24.99 }
          ],
          monthlySavings: 14.00,
          alert: 'Used only 3 times this year - downgrade or cancel',
          increasePercent: 127
        },
        {
          id: 5,
          name: 'ChatGPT Plus',
          currentPrice: 20.00,
          originalPrice: 20.00,
          startDate: 'Feb 2023',
          lastIncrease: null,
          increases: 0,
          category: 'AI',
          status: 'fair',
          usageScore: 90,
          recommendedTier: 'Current plan optimal',
          priceHistory: [
            { date: 'Feb 2023', price: 20.00 }
          ],
          monthlySavings: 0,
          alert: null,
          increasePercent: 0
        }
      ];

      const totalSpent = subscriptions.reduce((sum, sub) => sum + sub.currentPrice, 0);
      const totalOriginal = subscriptions.reduce((sum, sub) => sum + sub.originalPrice, 0);
      const potentialSavings = subscriptions.reduce((sum, sub) => sum + sub.monthlySavings, 0);
      const totalIncreases = totalSpent - totalOriginal;
      const yearlyWaste = potentialSavings * 12;

      const filteredSubs = subscriptions
        .filter(sub => {
          if (activeTab === 'alerts') return sub.alert;
          if (filterStatus === 'all') return true;
          return sub.status === filterStatus;
        })
        .sort((a, b) => {
          if (sortBy === 'savings') return b.monthlySavings - a.monthlySavings;
          if (sortBy === 'price') return b.currentPrice - a.currentPrice;
          if (sortBy === 'increases') return b.increases - a.increases;
          return 0;
        });

      const getStatusColor = (status) => {
        switch(status) {
          case 'overpriced': return 'text-red-600 bg-red-50 border-red-300';
          case 'wasteful': return 'text-yellow-700 bg-yellow-50 border-yellow-300';
          case 'fair': return 'text-emerald-700 bg-emerald-50 border-emerald-300';
          default: return 'text-slate-600 bg-slate-50 border-slate-300';
        }
      };

      const getStatusIcon = (status) => {
        switch(status) {
          case 'overpriced': return <TrendingUp className="w-4 h-4" />;
          case 'wasteful': return <AlertCircle className="w-4 h-4" />;
          case 'fair': return <CheckCircle className="w-4 h-4" />;
          default: return <Clock className="w-4 h-4" />;
        }
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-emerald-50">
          <div className="max-w-6xl mx-auto p-6">
            {/* Header */}
            <div className="mb-8">
              <div className="flex items-center gap-3 mb-2">
                <div className="w-12 h-12 bg-gradient-to-br from-blue-600 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg">
                  <DollarSign className="w-7 h-7 text-white" />
                </div>
                <h1 className="text-4xl font-bold bg-gradient-to-r from-blue-700 to-emerald-600 bg-clip-text text-transparent">FairPrice</h1>
              </div>
              <p className="text-slate-600 text-lg">Stop getting quietly overcharged on subscriptions</p>
            </div>

            {/* Alert Banner */}
            {potentialSavings > 0 && (
              <div className="mb-6 p-5 bg-gradient-to-r from-yellow-400 to-red-500 rounded-2xl text-white shadow-xl">
                <div className="flex items-start gap-4">
                  <div className="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0">
                    <AlertCircle className="w-7 h-7" />
                  </div>
                  <div className="flex-1">
                    <h3 className="font-bold text-xl mb-1">You're losing ${potentialSavings.toFixed(2)}/month</h3>
                    <p className="text-white/95 text-lg">That's ${yearlyWaste.toFixed(0)}/year in wasteful spending we can help you recover</p>
                  </div>
                </div>
              </div>
            )}

            {/* Stats Cards */}
            <div className="grid grid-cols-1 md:grid-cols-4 gap-5 mb-8">
              <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-slate-100 hover:shadow-md transition-shadow">
                <div className="flex items-center justify-between mb-3">
                  <span className="text-slate-600 font-medium">Monthly Spend</span>
                  <div className="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                    <DollarSign className="w-5 h-5 text-blue-600" />
                  </div>
                </div>
                <p className="text-3xl font-bold text-slate-900">${totalSpent.toFixed(2)}</p>
                <p className="text-sm text-slate-500 mt-1">{subscriptions.length} active subscriptions</p>
              </div>

              <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-slate-100 hover:shadow-md transition-shadow">
                <div className="flex items-center justify-between mb-3">
                  <span className="text-slate-600 font-medium">Price Increases</span>
                  <div className="w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center">
                    <TrendingUp className="w-5 h-5 text-red-600" />
                  </div>
                </div>
                <p className="text-3xl font-bold text-red-600">+${totalIncreases.toFixed(2)}</p>
                <p className="text-sm text-slate-500 mt-1">Since you started</p>
              </div>

              <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-slate-100 hover:shadow-md transition-shadow">
                <div className="flex items-center justify-between mb-3">
                  <span className="text-slate-600 font-medium">Potential Savings</span>
                  <div className="w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center">
                    <Zap className="w-5 h-5 text-emerald-600" />
                  </div>
                </div>
                <p className="text-3xl font-bold text-emerald-600">${potentialSavings.toFixed(2)}</p>
                <p className="text-sm text-slate-500 mt-1">Per month</p>
              </div>

              <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-slate-100 hover:shadow-md transition-shadow">
                <div className="flex items-center justify-between mb-3">
                  <span className="text-slate-600 font-medium">Yearly Impact</span>
                  <div className="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
                    <DollarSign className="w-5 h-5 text-blue-600" />
                  </div>
                </div>
                <p className="text-3xl font-bold text-blue-600">${yearlyWaste.toFixed(0)}</p>
                <p className="text-sm text-slate-500 mt-1">Annual savings available</p>
              </div>
            </div>

            {/* Interactive Savings Calculator */}
            <div className="mb-8 bg-white rounded-2xl shadow-sm border-2 border-slate-100 overflow-hidden">
              <button
                onClick={() => setShowSavingsCalc(!showSavingsCalc)}
                className="w-full p-5 flex items-center justify-between hover:bg-slate-50 transition-colors"
              >
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center">
                    <Zap className="w-5 h-5 text-emerald-600" />
                  </div>
                  <div className="text-left">
                    <h3 className="font-bold text-slate-900">Savings Calculator</h3>
                    <p className="text-sm text-slate-600">See how much you'll save over time</p>
                  </div>
                </div>
                <ChevronDown className={`w-5 h-5 text-slate-400 transition-transform ${showSavingsCalc ? 'rotate-180' : ''}`} />
              </button>
              
              {showSavingsCalc && (
                <div className="p-6 border-t border-slate-100 bg-slate-50">
                  <div className="mb-6">
                    <label className="block text-sm font-medium text-slate-700 mb-3">
                      How many months ahead? <span className="text-emerald-600 font-bold">{calcMonths} months</span>
                    </label>
                    <input
                      type="range"
                      min="1"
                      max="36"
                      value={calcMonths}
                      onChange={(e) => setCalcMonths(Number(e.target.value))}
                      className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer"
                    />
                    <div className="flex justify-between text-xs text-slate-500 mt-1">
                      <span>1 mo</span>
                      <span>36 mo</span>
                    </div>
                  </div>
                  
                  <div className="grid grid-cols-3 gap-4">
                    <div className="bg-white p-4 rounded-xl border-2 border-slate-200">
                      <p className="text-xs text-slate-600 mb-1">Total Saved</p>
                      <p className="text-2xl font-bold text-emerald-600">${(potentialSavings * calcMonths).toFixed(0)}</p>
                    </div>
                    <div className="bg-white p-4 rounded-xl border-2 border-slate-200">
                      <p className="text-xs text-slate-600 mb-1">Price Increases</p>
                      <p className="text-2xl font-bold text-red-600">${(totalIncreases * (calcMonths / 12)).toFixed(0)}</p>
                    </div>
                    <div className="bg-white p-4 rounded-xl border-2 border-slate-200">
                      <p className="text-xs text-slate-600 mb-1">Net Benefit</p>
                      <p className="text-2xl font-bold text-blue-600">${((potentialSavings * calcMonths) + (totalIncreases * (calcMonths / 12))).toFixed(0)}</p>
                    </div>
                  </div>
                </div>
              )}
            </div>

            {/* Tabs and Controls */}
            <div className="mb-6">
              <div className="flex flex-wrap items-center justify-between gap-4 mb-4">
                <div className="flex gap-2">
                  <button
                    onClick={() => setActiveTab('dashboard')}
                    className={`px-5 py-2.5 font-semibold rounded-xl transition-all ${
                      activeTab === 'dashboard'
                        ? 'bg-blue-600 text-white shadow-md'
                        : 'bg-white text-slate-600 hover:bg-slate-50 border-2 border-slate-200'
                    }`}
                  >
                    All Subscriptions
                  </button>
                  <button
                    onClick={() => setActiveTab('alerts')}
                    className={`px-5 py-2.5 font-semibold rounded-xl transition-all flex items-center gap-2 ${
                      activeTab === 'alerts'
                        ? 'bg-blue-600 text-white shadow-md'
                        : 'bg-white text-slate-600 hover:bg-slate-50 border-2 border-slate-200'
                    }`}
                  >
                    Alerts
                    <span className="bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full">
                      {subscriptions.filter(s => s.alert).length}
                    </span>
                  </button>
                </div>

                <div className="flex gap-3">
                  <div className="relative">
                    <select
                      value={filterStatus}
                      onChange={(e) => setFilterStatus(e.target.value)}
                      className="appearance-none bg-white border-2 border-slate-200 rounded-xl px-4 py-2.5 pr-10 font-medium text-slate-700 hover:border-slate-300 focus:outline-none focus:border-blue-500 cursor-pointer"
                    >
                      <option value="all">All Status</option>
                      <option value="overpriced">Overpriced</option>
                      <option value="wasteful">Wasteful</option>
                      <option value="fair">Fair Price</option>
                    </select>
                    <Filter className="absolute right-3 top-3 w-5 h-5 text-slate-400 pointer-events-none" />
                  </div>

                  <div className="relative">
                    <select
                      value={sortBy}
                      onChange={(e) => setSortBy(e.target.value)}
                      className="appearance-none bg-white border-2 border-slate-200 rounded-xl px-4 py-2.5 pr-10 font-medium text-slate-700 hover:border-slate-300 focus:outline-none focus:border-blue-500 cursor-pointer"
                    >
                      <option value="savings">Highest Savings</option>
                      <option value="price">Highest Price</option>
                      <option value="increases">Most Increases</option>
                    </select>
                    <ArrowUpDown className="absolute right-3 top-3 w-5 h-5 text-slate-400 pointer-events-none" />
                  </div>
                </div>
              </div>
            </div>

            {/* Subscription List */}
            <div className="space-y-4">
              {filteredSubs.map(sub => (
                <div
                  key={sub.id}
                  className="bg-white rounded-2xl shadow-sm border-2 border-slate-100 overflow-hidden hover:shadow-lg hover:border-slate-200 transition-all"
                >
                  <div className="p-6">
                    <div className="flex items-start justify-between mb-5">
                      <div className="flex-1">
                        <div className="flex items-center gap-3 mb-2">
                          <h3 className="text-2xl font-bold text-slate-900">{sub.name}</h3>
                          <span className={`px-3 py-1.5 rounded-xl text-xs font-bold border-2 flex items-center gap-1.5 ${getStatusColor(sub.status)}`}>
                            {getStatusIcon(sub.status)}
                            {sub.status === 'overpriced' && 'Price Creep'}
                            {sub.status === 'wasteful' && 'Wasteful'}
                            {sub.status === 'fair' && 'Fair Price'}
                          </span>
                          {sub.increasePercent > 0 && (
                            <span className="px-3 py-1.5 rounded-xl text-xs font-bold bg-red-100 text-red-700 border-2 border-red-200">
                              +{sub.increasePercent}%
                            </span>
                          )}
                        </div>
                        <p className="text-slate-600 font-medium">{sub.category} • Member since {sub.startDate}</p>
                      </div>
                      <div className="text-right">
                        <p className="text-3xl font-bold text-slate-900">${sub.currentPrice}</p>
                        <p className="text-sm text-slate-500 font-medium">per month</p>
                      </div>
                    </div>

                    {sub.alert && (
                      <div className="mb-5 p-4 bg-gradient-to-r from-yellow-50 to-red-50 border-2 border-yellow-300 rounded-xl flex items-start gap-3">
                        <AlertCircle className="w-6 h-6 text-yellow-700 flex-shrink-0 mt-0.5" />
                        <p className="text-sm text-yellow-900 font-semibold">{sub.alert}</p>
                      </div>
                    )}

                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-5">
                      <div className="bg-slate-50 p-4 rounded-xl">
                        <p className="text-xs text-slate-600 font-medium mb-1">Original Price</p>
                        <p className="font-bold text-slate-900 text-lg">${sub.originalPrice}</p>
                      </div>
                      <div className="bg-slate-50 p-4 rounded-xl">
                        <p className="text-xs text-slate-600 font-medium mb-1">Price Increases</p>
                        <p className="font-bold text-red-600 text-lg">{sub.increases} times</p>
                      </div>
                      <div className="bg-slate-50 p-4 rounded-xl">
                        <p className="text-xs text-slate-600 font-medium mb-1">Usage Score</p>
                        <div className="flex items-center gap-2">
                          <div className="flex-1 bg-slate-200 rounded-full h-2">
                            <div 
                              className={`h-2 rounded-full ${sub.usageScore > 70 ? 'bg-emerald-500' : sub.usageScore > 40 ? 'bg-yellow-500' : 'bg-red-500'}`}
                              style={{ width: `${sub.usageScore}%` }}
                            />
                          </div>
                          <span className="font-bold text-slate-900 text-lg">{sub.usageScore}%</span>
                        </div>
                      </div>
                      <div className="bg-slate-50 p-4 rounded-xl">
                        <p className="text-xs text-slate-600 font-medium mb-1">Monthly Savings</p>
                        <p className="font-bold text-emerald-600 text-lg">
                          {sub.monthlySavings > 0 ? `$${sub.monthlySavings.toFixed(2)}` : 'None'}
                        </p>
                      </div>
                    </div>

                    {sub.recommendedTier !== 'Current plan optimal' && (
                      <div className="mb-5 p-4 bg-emerald-50 border-2 border-emerald-300 rounded-xl">
                        <p className="text-sm font-bold text-emerald-800">
                          💡 Recommendation: {sub.recommendedTier}
                        </p>
                      </div>
                    )}

                    <button
                      onClick={() => setSelectedSub(selectedSub === sub.id ? null : sub.id)}
                      className="text-blue-600 hover:text-blue-700 font-bold flex items-center gap-2 transition-colors"
                    >
                      {selectedSub === sub.id ? 'Hide' : 'View'} Price History
                      <ChevronDown className={`w-4 h-4 transition-transform ${selectedSub === sub.id ? 'rotate-180' : ''}`} />
                    </button>

                    {selectedSub === sub.id && (
                      <div className="mt-5 pt-5 border-t-2 border-slate-100">
                        <h4 className="font-bold text-slate-900 mb-4 text-lg">Price History</h4>
                        <div className="space-y-2 mb-5">
                          {sub.priceHistory.map((entry, idx) => (
                            <div key={idx} className="flex items-center justify-between py-3 px-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors">
                              <span className="font-medium text-slate-700">{entry.date}</span>
                              <div className="flex items-center gap-4">
                                <span className="font-bold text-slate-900 text-lg">${entry.price}</span>
                                {idx > 0 && (
                                  <span className="text-sm font-bold text-red-600 bg-red-50 px-3 py-1 rounded-lg">
                                    +${(entry.price - sub.priceHistory[idx - 1].price).toFixed(2)}
                                  </span>
                                )}
                              </div>
                            </div>
                          ))}
                        </div>
                        <div className="flex gap-3">
                          <button className="flex-1 px-5 py-3 bg-gradient-to-r from-blue-600 to-emerald-500 text-white rounded-xl font-bold hover:shadow-lg transition-all">
                            Optimize Plan
                          </button>
                          <button className="flex-1 px-5 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors">
